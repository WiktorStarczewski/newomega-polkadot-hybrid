{
  "metadataVersion": "0.1.0",
  "source": {
    "hash": "0x145f45171f361a75462890d6a7a13107d2804fc53debb6893c8ecb4ba3ded3ce",
    "language": "ink! 3.0.0-rc3",
    "compiler": "rustc 1.55.0-nightly"
  },
  "contract": {
    "name": "newomegagame",
    "version": "1.0.0",
    "authors": [
      "Wiktor Starczewski <celrisen@gmail.com>"
    ]
  },
  "spec": {
    "constructors": [
      {
        "args": [
          {
            "name": "new_omega",
            "type": {
              "displayName": [
                "NewOmega"
              ],
              "type": 7
            }
          }
        ],
        "docs": [],
        "name": [
          "new"
        ],
        "selector": "0x9bae9d5e"
      }
    ],
    "docs": [
      " Wraps the Game Engine with a bit of storage, which contains the definition of",
      " ships (their statistics). The allows for separation of the Engine logic from ships,",
      " which is useful because it allows the Engine to remain pure."
    ],
    "events": [],
    "messages": [
      {
        "args": [
          {
            "name": "delegator_address",
            "type": {
              "displayName": [
                "AccountId"
              ],
              "type": 1
            }
          }
        ],
        "docs": [],
        "mutates": true,
        "name": [
          "authorise_delegator"
        ],
        "payable": false,
        "returnType": null,
        "selector": "0xdd9c74d2"
      },
      {
        "args": [
          {
            "name": "cp",
            "type": {
              "displayName": [
                "u16"
              ],
              "type": 6
            }
          },
          {
            "name": "hp",
            "type": {
              "displayName": [
                "u16"
              ],
              "type": 6
            }
          },
          {
            "name": "attack_base",
            "type": {
              "displayName": [
                "u16"
              ],
              "type": 6
            }
          },
          {
            "name": "attack_variable",
            "type": {
              "displayName": [
                "u16"
              ],
              "type": 6
            }
          },
          {
            "name": "defence",
            "type": {
              "displayName": [
                "u16"
              ],
              "type": 6
            }
          },
          {
            "name": "speed",
            "type": {
              "displayName": [
                "u8"
              ],
              "type": 3
            }
          },
          {
            "name": "range",
            "type": {
              "displayName": [
                "u8"
              ],
              "type": 3
            }
          }
        ],
        "docs": [
          " Adds ship to the ship definitions",
          "",
          " # Arguments",
          "",
          " * `cp` - Ship Command Power",
          " * `hp` - Ship Health Points",
          " * `attack_base` - Base attack",
          " * `attack_variable` - Variable attack (subject to random)",
          " * `defence` - Ship Defence",
          " * `speed` - Ship Speed",
          " * `range` - Ship Range"
        ],
        "mutates": true,
        "name": [
          "add_ship"
        ],
        "payable": false,
        "returnType": null,
        "selector": "0x433e4d1f"
      },
      {
        "args": [],
        "docs": [
          " Returns all the registered ships",
          "",
          " # Returns",
          "",
          " * `ships` - A Vector containing the registered ships"
        ],
        "mutates": false,
        "name": [
          "get_ships"
        ],
        "payable": false,
        "returnType": {
          "displayName": [
            "Vec"
          ],
          "type": 4
        },
        "selector": "0x002c6909"
      },
      {
        "args": [
          {
            "name": "seed",
            "type": {
              "displayName": [
                "u64"
              ],
              "type": 8
            }
          },
          {
            "name": "log_moves",
            "type": {
              "displayName": [
                "bool"
              ],
              "type": 9
            }
          },
          {
            "name": "selection_lhs",
            "type": {
              "displayName": [],
              "type": 10
            }
          },
          {
            "name": "selection_rhs",
            "type": {
              "displayName": [],
              "type": 10
            }
          },
          {
            "name": "modules_lhs",
            "type": {
              "displayName": [],
              "type": 11
            }
          },
          {
            "name": "modules_rhs",
            "type": {
              "displayName": [],
              "type": 11
            }
          },
          {
            "name": "targeting_lhs",
            "type": {
              "displayName": [
                "TargetingType"
              ],
              "type": 13
            }
          },
          {
            "name": "targeting_rhs",
            "type": {
              "displayName": [
                "TargetingType"
              ],
              "type": 13
            }
          }
        ],
        "docs": [
          " Calculates a fight, using registered ships.",
          "",
          " # Arguments",
          "",
          " * `seed` - Seed used to generate randomness",
          " * `log_moves` - Whether to return a detailed fight log",
          " * `selection_lhs` - Attacker fleet composition (array with ship quantities)",
          " * `selection_rhs` - Defender fleet composition (array with ship quantities)",
          " * `modules_lhs` - An array that holds modules of the attacker fleet",
          " * `modules_rhs` - An array that holds modules of the defender fleet",
          "",
          " # Returns",
          "",
          " * `result` - A FightResult structure containing the result",
          " * `moves_lhs` - Logged moves of the attacker, if requested. None if not.",
          " * `moves_rhs` - Logged moves of the defender, if requested. None if not."
        ],
        "mutates": false,
        "name": [
          "fight"
        ],
        "payable": false,
        "returnType": {
          "displayName": [],
          "type": 14
        },
        "selector": "0xa372d04c"
      }
    ]
  },
  "storage": {
    "struct": {
      "fields": [
        {
          "layout": {
            "cell": {
              "key": "0x0000000000000000000000000000000000000000000000000000000000000000",
              "ty": 1
            }
          },
          "name": "creator"
        },
        {
          "layout": {
            "enum": {
              "dispatchKey": "0x0100000000000000000000000000000000000000000000000000000000000000",
              "variants": {
                "0": {
                  "fields": [
                    {
                      "layout": {
                        "cell": {
                          "key": "0x0200000000000000000000000000000000000000000000000000000000000000",
                          "ty": 1
                        }
                      },
                      "name": null
                    }
                  ]
                },
                "1": {
                  "fields": []
                }
              }
            }
          },
          "name": "owner"
        },
        {
          "layout": {
            "struct": {
              "fields": [
                {
                  "layout": {
                    "cell": {
                      "key": "0x0200000000000000000000000000000000000000000000000000000000000000",
                      "ty": 1
                    }
                  },
                  "name": "account_id"
                }
              ]
            }
          },
          "name": "new_omega"
        },
        {
          "layout": {
            "cell": {
              "key": "0x0300000000000000000000000000000000000000000000000000000000000000",
              "ty": 4
            }
          },
          "name": "ships"
        }
      ]
    }
  },
  "types": [
    {
      "def": {
        "composite": {
          "fields": [
            {
              "type": 2,
              "typeName": "[u8; 32]"
            }
          ]
        }
      },
      "path": [
        "ink_env",
        "types",
        "AccountId"
      ]
    },
    {
      "def": {
        "array": {
          "len": 32,
          "type": 3
        }
      }
    },
    {
      "def": {
        "primitive": "u8"
      }
    },
    {
      "def": {
        "sequence": {
          "type": 5
        }
      }
    },
    {
      "def": {
        "composite": {
          "fields": [
            {
              "name": "cp",
              "type": 6,
              "typeName": "u16"
            },
            {
              "name": "hp",
              "type": 6,
              "typeName": "u16"
            },
            {
              "name": "attack_base",
              "type": 6,
              "typeName": "u16"
            },
            {
              "name": "attack_variable",
              "type": 6,
              "typeName": "u16"
            },
            {
              "name": "defence",
              "type": 6,
              "typeName": "u16"
            },
            {
              "name": "speed",
              "type": 3,
              "typeName": "u8"
            },
            {
              "name": "range",
              "type": 3,
              "typeName": "u8"
            }
          ]
        }
      },
      "path": [
        "newomega",
        "newomega",
        "Ship"
      ]
    },
    {
      "def": {
        "primitive": "u16"
      }
    },
    {
      "def": {
        "composite": {
          "fields": [
            {
              "name": "account_id",
              "type": 1,
              "typeName": "AccountId"
            }
          ]
        }
      },
      "path": [
        "newomega",
        "newomega",
        "NewOmega"
      ]
    },
    {
      "def": {
        "primitive": "u64"
      }
    },
    {
      "def": {
        "primitive": "bool"
      }
    },
    {
      "def": {
        "array": {
          "len": 4,
          "type": 3
        }
      }
    },
    {
      "def": {
        "array": {
          "len": 4,
          "type": 12
        }
      }
    },
    {
      "def": {
        "composite": {
          "fields": [
            {
              "name": "snare",
              "type": 3,
              "typeName": "u8"
            },
            {
              "name": "root",
              "type": 3,
              "typeName": "u8"
            },
            {
              "name": "blind",
              "type": 3,
              "typeName": "u8"
            },
            {
              "name": "attack_debuff",
              "type": 3,
              "typeName": "u8"
            },
            {
              "name": "defence_debuff",
              "type": 3,
              "typeName": "u8"
            },
            {
              "name": "range_debuff",
              "type": 3,
              "typeName": "u8"
            }
          ]
        }
      },
      "path": [
        "newomega",
        "newomega",
        "ShipModule"
      ]
    },
    {
      "def": {
        "variant": {
          "variants": [
            {
              "discriminant": 0,
              "name": "Furthest"
            },
            {
              "discriminant": 1,
              "name": "Closest"
            },
            {
              "discriminant": 2,
              "name": "HighestHp"
            },
            {
              "discriminant": 3,
              "name": "LowestHp"
            },
            {
              "discriminant": 4,
              "name": "HighestSpeed"
            },
            {
              "discriminant": 5,
              "name": "LowestSpeed"
            },
            {
              "discriminant": 6,
              "name": "HighestDefence"
            },
            {
              "discriminant": 7,
              "name": "LowestDefence"
            },
            {
              "discriminant": 8,
              "name": "HighestAttack"
            },
            {
              "discriminant": 9,
              "name": "LowestAttack"
            }
          ]
        }
      },
      "path": [
        "newomega",
        "newomega",
        "TargetingType"
      ]
    },
    {
      "def": {
        "tuple": [
          15,
          16,
          16
        ]
      }
    },
    {
      "def": {
        "composite": {
          "fields": [
            {
              "name": "selection_lhs",
              "type": 10,
              "typeName": "[u8; MAX_SHIPS]"
            },
            {
              "name": "selection_rhs",
              "type": 10,
              "typeName": "[u8; MAX_SHIPS]"
            },
            {
              "name": "modules_lhs",
              "type": 11,
              "typeName": "[ShipModule; MAX_SHIPS]"
            },
            {
              "name": "modules_rhs",
              "type": 11,
              "typeName": "[ShipModule; MAX_SHIPS]"
            },
            {
              "name": "targeting_lhs",
              "type": 13,
              "typeName": "TargetingType"
            },
            {
              "name": "targeting_rhs",
              "type": 13,
              "typeName": "TargetingType"
            },
            {
              "name": "lhs_dead",
              "type": 9,
              "typeName": "bool"
            },
            {
              "name": "rhs_dead",
              "type": 9,
              "typeName": "bool"
            },
            {
              "name": "rounds",
              "type": 3,
              "typeName": "u8"
            },
            {
              "name": "seed",
              "type": 8,
              "typeName": "u64"
            },
            {
              "name": "ships_lost_lhs",
              "type": 10,
              "typeName": "[u8; MAX_SHIPS]"
            },
            {
              "name": "ships_lost_rhs",
              "type": 10,
              "typeName": "[u8; MAX_SHIPS]"
            }
          ]
        }
      },
      "path": [
        "newomega",
        "newomega",
        "FightResult"
      ]
    },
    {
      "def": {
        "variant": {
          "variants": [
            {
              "name": "None"
            },
            {
              "fields": [
                {
                  "type": 17,
                  "typeName": "T"
                }
              ],
              "name": "Some"
            }
          ]
        }
      },
      "params": [
        17
      ],
      "path": [
        "Option"
      ]
    },
    {
      "def": {
        "sequence": {
          "type": 18
        }
      }
    },
    {
      "def": {
        "composite": {
          "fields": [
            {
              "name": "move_type",
              "type": 3,
              "typeName": "u8"
            },
            {
              "name": "round",
              "type": 3,
              "typeName": "u8"
            },
            {
              "name": "source",
              "type": 3,
              "typeName": "u8"
            },
            {
              "name": "target",
              "type": 3,
              "typeName": "u8"
            },
            {
              "name": "target_position",
              "type": 19,
              "typeName": "i16"
            },
            {
              "name": "damage",
              "type": 20,
              "typeName": "u32"
            },
            {
              "name": "effects_lhs",
              "type": 21,
              "typeName": "[RunningEffect; MAX_SHIPS]"
            },
            {
              "name": "effects_rhs",
              "type": 21,
              "typeName": "[RunningEffect; MAX_SHIPS]"
            }
          ]
        }
      },
      "path": [
        "newomega",
        "newomega",
        "Move"
      ]
    },
    {
      "def": {
        "primitive": "i16"
      }
    },
    {
      "def": {
        "primitive": "u32"
      }
    },
    {
      "def": {
        "array": {
          "len": 4,
          "type": 22
        }
      }
    },
    {
      "def": {
        "composite": {
          "fields": [
            {
              "name": "snare",
              "type": 3,
              "typeName": "u8"
            },
            {
              "name": "root",
              "type": 3,
              "typeName": "u8"
            },
            {
              "name": "blind",
              "type": 3,
              "typeName": "u8"
            },
            {
              "name": "attack_debuff",
              "type": 3,
              "typeName": "u8"
            },
            {
              "name": "defence_debuff",
              "type": 3,
              "typeName": "u8"
            },
            {
              "name": "range_debuff",
              "type": 3,
              "typeName": "u8"
            }
          ]
        }
      },
      "path": [
        "newomega",
        "newomega",
        "RunningEffect"
      ]
    }
  ]
}